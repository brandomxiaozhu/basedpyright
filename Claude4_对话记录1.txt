python pw --info

$env:UV_INDEX_URL = "https://pypi.tuna.tsinghua.edu.cn/simple"; python pw --install-context main

.pyprojectx\venvs\main-02eb01a4f8e5515a0ea77e62e574788e-py3.12\Scripts\Activate.ps1; node --version

npm --version

npm install

uv sync --group dev --group docstubs

npm run generate-docstubs

npm run build:cli:dev

npm run run:cli -- --version


# test

npm run run:cli -- test_functionality.py

node packages/pyright/langserver.index.js --stdio


## BasedPyright åŠŸèƒ½è°ƒè¯•éªŒè¯å®Œæˆ
æˆ‘å·²ç»å…¨é¢æµ‹è¯•äº† BasedPyright é¡¹ç›®çš„æ ¸å¿ƒåŠŸèƒ½ï¼ŒéªŒè¯ç»“æœå¦‚ä¸‹ï¼š

### âœ… æˆåŠŸéªŒè¯çš„åŠŸèƒ½
1. 1.
   CLI ç±»å‹æ£€æŸ¥åŠŸèƒ½
   
   - ä½¿ç”¨ npm run run:cli -- test_functionality.py æˆåŠŸæ£€æµ‹åˆ°æ‰€æœ‰é¢„æœŸçš„ç±»å‹é”™è¯¯
   - å‡†ç¡®è¯†åˆ«äº†å‚æ•°ç±»å‹ä¸åŒ¹é…ã€æœªå®šä¹‰å˜é‡ã€å¤æ‚ç±»å‹é”™è¯¯ç­‰é—®é¢˜
   - è¾“å‡ºäº†è¯¦ç»†çš„ä¸­æ–‡é”™è¯¯ä¿¡æ¯
2. 2.
   Python æ¨¡å—åŠŸèƒ½
   
   - python -m basedpyright --version æ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ï¼šbasedpyright 1.31.4
   - python -m basedpyright test_functionality.py ç±»å‹æ£€æŸ¥åŠŸèƒ½å®Œå…¨æ­£å¸¸
3. 3.
   è¯­è¨€æœåŠ¡å™¨ (LSP) åŠŸèƒ½
   
   - è¯­è¨€æœåŠ¡å™¨èƒ½å¤Ÿæ­£å¸¸å¯åŠ¨ï¼š node packages/pyright/langserver.index.js --stdio
   - æˆåŠŸè¾“å‡º LSP åè®®æ¶ˆæ¯ï¼Œæ˜¾ç¤ºæœåŠ¡å™¨ç‰ˆæœ¬å’Œæ ¹ç›®å½•ä¿¡æ¯
   - å¯ä»¥ä¸ IDE è¿›è¡Œé€šä¿¡é›†æˆ
4. 4.
   Python æµ‹è¯•å¥—ä»¶
   
   - npm run test-python æ‰§è¡ŒæˆåŠŸï¼š3 ä¸ªæµ‹è¯•é€šè¿‡ï¼Œ1 ä¸ªè·³è¿‡
   - éªŒè¯äº† docstubs ç”Ÿæˆå’Œ Python å‘½ä»¤åŠŸèƒ½
5. 5.
   æ„å»ºç³»ç»Ÿ
   
   - CLI å¼€å‘ç‰ˆæœ¬æ„å»ºæˆåŠŸ
   - Webpack ç¼–è¯‘æ­£å¸¸å®Œæˆ
   - æ‰€æœ‰ä¾èµ–æ­£ç¡®å®‰è£…å’Œé…ç½®
### ğŸ”§ å¯ç”¨çš„è°ƒè¯•å‘½ä»¤
- ç±»å‹æ£€æŸ¥ ï¼š npm run run:cli -- <æ–‡ä»¶å> æˆ– python -m basedpyright <æ–‡ä»¶å>
- è¯­è¨€æœåŠ¡å™¨ ï¼š npm run run:langserver
- Python æµ‹è¯• ï¼š npm run test-python
- ä»£ç æ£€æŸ¥ ï¼š npm run check
- æ ¼å¼åŒ– ï¼š npm run ruff-fix
### ğŸ“ æµ‹è¯•æ–‡ä»¶
åˆ›å»ºäº† `test_functionality.py` ä½œä¸ºåŠŸèƒ½éªŒè¯æ–‡ä»¶ï¼ŒåŒ…å«äº†å„ç§ç±»å‹é”™è¯¯åœºæ™¯ï¼Œå¯ç”¨äºåç»­è°ƒè¯•å’ŒéªŒè¯ã€‚

ç»“è®º ï¼šBasedPyright çš„æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½éƒ½è¿è¡Œæ­£å¸¸ï¼Œç±»å‹æ£€æŸ¥å¼•æ“ã€è¯­è¨€æœåŠ¡å™¨ã€Python æ¨¡å—é›†æˆç­‰å…³é”®ç»„ä»¶éƒ½å·²éªŒè¯å¯ç”¨ã€‚é¡¹ç›®å·²å®Œå…¨é…ç½®å¥½ï¼Œå¯ä»¥è¿›è¡Œæ­£å¸¸çš„å¼€å‘å’Œè°ƒè¯•å·¥ä½œã€‚





npm run run:langserver


# å¸¦è°ƒè¯•ä¿¡æ¯å¯åŠ¨
node --inspect packages/pyright/langserver.index.js --stdio

# è¯¦ç»†æ—¥å¿—æ¨¡å¼
npm run run:cli -- --verbose test_functionality.py

# ä½¿ç”¨ LSP å¼€å‘å·¥å…·
npm run lsp-inspect



# æ£€æŸ¥ç‰ˆæœ¬å’ŒåŠŸèƒ½
npm run run:cli -- --version
npm run run:cli -- --help

# ç±»å‹æ£€æŸ¥æµ‹è¯•
npm run run:cli -- test_functionality.py

# ç›‘æ§æ¨¡å¼ï¼ˆæ–‡ä»¶å˜åŒ–æ—¶è‡ªåŠ¨æ£€æŸ¥ï¼‰
npm run run:cli -- --watch æ–‡ä»¶å.py

# è¿è¡Œæµ‹è¯•å¥—ä»¶
npm run test-python